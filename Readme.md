# ãƒ¦ãƒ¼ãƒãƒ¥ãƒ© ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«

ãƒ¦ãƒ¼ãƒãƒ¥ãƒ©ï¼ˆyutura.netï¼‰ã‹ã‚‰YouTubeãƒãƒ£ãƒ³ãƒãƒ«æƒ…å ±ã‚’å–å¾—ã—ã€ã‚¿ãƒ¬ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã¨çªåˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
ãƒ¦ãƒ¼ãƒãƒ¥ãƒ©ã®ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã¯å½“æ™‚é›£ã—ã‹ã£ãŸãŸã‚htmlã‚’å–å¾—ã—ãã“ã‹ã‚‰å„YouTubeã®URLã‚’å–å¾—ã—ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚’è¡Œã„ã¾ã—ãŸã€‚
ã¾ãŸã€ãƒ¡ã‚¤ãƒ³ãƒãƒ£ãƒ³ãƒãƒ«ã¨ã‚µãƒ–ãƒãƒ£ãƒ³ãƒãƒ«ã®çªåˆã‚‚æ‰‹å‹•ã§è¡Œã£ã¦éƒ¨åˆ†ãŒå¤šã„ãŸã‚å®Œå…¨ãªè‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã§ã¯ã”ã–ã„ã¾ã›ã‚“ã€‚

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
```cmd
mkdir yutura_scraper
cd yutura_scraper
```

### 2. ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ä½œæˆ
```cmd
mkdir 1_scraping
mkdir 2_processing
mkdir data
mkdir data\input
mkdir data\output
mkdir html_files
```

### 3. ä»®æƒ³ç’°å¢ƒä½œæˆ
```cmd
python -m venv venv
```

### 4. ä»®æƒ³ç’°å¢ƒã‚’æœ‰åŠ¹åŒ–
```cmd
venv\Scripts\activate
```

### 5. pipã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
```cmd
python -m pip install --upgrade pip
```

### 6. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```cmd
pip install -r requirements.txt
```

## ğŸ“– ä½¿ã„æ–¹ï¼ˆ4ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—1: HTMLä¿å­˜
1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ¦ãƒ¼ãƒãƒ¥ãƒ©ã®ãƒšãƒ¼ã‚¸ã‚’é–‹ãï¼ˆä¾‹: https://yutura.net/tag/4662/ï¼‰
2. å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œãƒšãƒ¼ã‚¸ã®ã‚½ãƒ¼ã‚¹ã‚’è¡¨ç¤ºã€
3. Ctrl+A â†’ Ctrl+C ã§ã‚³ãƒ”ãƒ¼
4. `html_files/page1.html` ã«è²¼ã‚Šä»˜ã‘ã¦ä¿å­˜
5. ãƒšãƒ¼ã‚¸2ä»¥é™ã‚‚åŒæ§˜ã« `page2.html`, `page3.html`... ã¨ã—ã¦ä¿å­˜

### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Ÿè¡Œ
```cmd
cd 1_scraping
python batch_html_parser.py
```
â†’ `../data/output/yutura_batch_channels.csv` ãŒç”Ÿæˆã•ã‚Œã‚‹

### ã‚¹ãƒ†ãƒƒãƒ—3: YouTube URLå–å¾—
```cmd
python undetected_scraper.py
```
â†’ `../data/output/yutura_with_youtube_urls.csv` ãŒç”Ÿæˆã•ã‚Œã‚‹

â€» Cloudflareå›é¿ç‰ˆã‚’ä½¿ç”¨ï¼ˆé€”ä¸­ã§ä¸­æ–­ã—ã¦ã‚‚ç¶šãã‹ã‚‰å†é–‹å¯èƒ½ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ‡ãƒ¼ã‚¿åŠ å·¥

#### 4-1. ãƒ‡ãƒ¼ã‚¿çªåˆ
```cmd
cd ../2_processing
python merge_youtube_data.py
```
â†’ `../data/output/merged_youtube_data.csv` ãŒç”Ÿæˆã•ã‚Œã‚‹

#### 4-2. ç´¹ä»‹æ–‡ä½œæˆ
```cmd
python update_bio_channels.py
```
â†’ `../data/output/channels_with_text.csv` ãŒç”Ÿæˆã•ã‚Œã‚‹

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
yutura_scraper/
â”œâ”€â”€ README.md                    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ requirements.txt             # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ .gitignore                  # Gité™¤å¤–è¨­å®š
â”‚
â”œâ”€â”€ 1_scraping/                 # ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
â”‚   â”œâ”€â”€ batch_html_parser.py    # HTMLä¸€æ‹¬å‡¦ç†
â”‚   â””â”€â”€ undetected_scraper.py   # YouTube URLæŠ½å‡º
â”‚
â”œâ”€â”€ 2_processing/               # ãƒ‡ãƒ¼ã‚¿åŠ å·¥
â”‚   â”œâ”€â”€ merge_youtube_data.py   # ãƒ‡ãƒ¼ã‚¿çªåˆ
â”‚   â””â”€â”€ update_bio_channels.py  # ç´¹ä»‹æ–‡ä½œæˆ
â”‚
â”œâ”€â”€ data/                       # ãƒ‡ãƒ¼ã‚¿ä¿å­˜
â”‚   â”œâ”€â”€ input/                  # talent_data.csvç­‰ã‚’é…ç½®
â”‚   â””â”€â”€ output/                 # å‡ºåŠ›CSV
â”‚
â”œâ”€â”€ html_files/                 # HTMLä¿å­˜ç”¨
â”‚   â”œâ”€â”€ README.txt
â”‚   â”œâ”€â”€ page1.html
â”‚   â”œâ”€â”€ page2.html
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ venv/                       # ä»®æƒ³ç’°å¢ƒ
```

## âš™ï¸ ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª¬æ˜

### ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ç³»ï¼ˆ1_scraping/ï¼‰
- `batch_html_parser.py` - æ‰‹å‹•ä¿å­˜ã—ãŸHTMLã‚’ä¸€æ‹¬å‡¦ç†
- `undetected_scraper.py` - YouTube URLæŠ½å‡ºï¼ˆCloudflareå›é¿ç‰ˆï¼‰

### ãƒ‡ãƒ¼ã‚¿åŠ å·¥ç³»ï¼ˆ2_processing/ï¼‰
- `merge_youtube_data.py` - ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°çµæœã¨talent_dataã‚’çªåˆ
- `update_bio_channels.py` - ç´¹ä»‹æ–‡ç”¨ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”Ÿæˆ

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### å‡ºåŠ›å…ˆã‚’å¤‰æ›´
å„ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã®è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç·¨é›†ï¼š
```python
# ========================================
# è¨­å®š
# ========================================
output_csv = '../data/output/ãƒ•ã‚¡ã‚¤ãƒ«å.csv'
```

### å¾…æ©Ÿæ™‚é–“ã‚’èª¿æ•´
`get_youtube_urls.py` å†…ï¼š
```python
wait_time = 5    # ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾…æ©Ÿæ™‚é–“ï¼ˆç§’ï¼‰
cool_time = 3    # ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã®å¾…æ©Ÿæ™‚é–“ï¼ˆç§’ï¼‰
```

## ğŸ“ æ³¨æ„äº‹é …

- ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã¯å¯¾è±¡ã‚µã‚¤ãƒˆã®åˆ©ç”¨è¦ç´„ã‚’ç¢ºèªã—ã¦ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„
- éåº¦ãªã‚¢ã‚¯ã‚»ã‚¹ã¯ã‚µãƒ¼ãƒãƒ¼ã«è² è·ã‚’ã‹ã‘ã‚‹ãŸã‚ã€é©åˆ‡ãªé–“éš”ã‚’ç©ºã‘ã¦ãã ã•ã„
- å€‹äººåˆ©ç”¨ã®ç¯„å›²ã§ä½¿ç”¨ã—ã¦ãã ã•ã„

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: ChromeDriver not found
```cmd
pip install webdriver-manager
```

### ã‚¨ãƒ©ãƒ¼: Cloudflareã§ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹
`undetected_scraper.py` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

### ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„
- `data/input/` ã« `talent_data.csv` ã‚’é…ç½®ã—ã¦ãã ã•ã„
- å„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„

### ä»®æƒ³ç’°å¢ƒã‚’çµ‚äº†ã—ãŸã„
```cmd
deactivate
```

### æ¬¡å›ä»¥é™ã®èµ·å‹•
```cmd
cd yutura_scraper
venv\Scripts\activate
```
